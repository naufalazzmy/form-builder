import{u as w,b as x,d as f,e as y,o as p,h as t,i as d,v as r,F as N,j as V}from"./index-DwSl0Vae.js";const F={key:0},U=["onUpdate:modelValue","onInput"],S={__name:"TableInputEditor",props:{element:Object},setup(l){var v;const i=l,s=w();function b(n,e){s.selectedColumnFieldInfo?s.updateSelectedColumnFieldProperty(n,e):s.updateSelectedProperty(n,e)}function g(n){const e=n.target.value;if(!s.isNameUnique(e,i.element.id)){alert("Name harus unik");return}b("name",e)}const c=x(((v=i.element.columns)==null?void 0:v.length)||1);function I(){const n=Math.max(1,c.value),m=[...(i.element.columns||[]).slice(0,n)];for(;m.length<n;)m.push(`Kolom ${m.length+1}`);b("columns",m)}function k(n,e){i.element.columns[n]=e}function C(){var n;if(s.selectedColumnFieldInfo){const{colIndex:e,fieldId:m,parentId:o}=s.selectedColumnFieldInfo,u=s.elements.find(a=>a.id===o);u&&((n=u.columns)!=null&&n[e])&&(console.log(u.columns[e]),u.columns[e]=u.columns[e].filter(a=>a.id!==m),s.selectedColumnFieldInfo=null)}else s.deleteSelectedElement()}return(n,e)=>{var m;return((m=l.element)==null?void 0:m.type)==="table"?(p(),f("div",F,[t("div",{class:"flex items-center justify-between mt-3"},[e[6]||(e[6]=t("h2",{class:"font-semibold mb-2"},"Table Input",-1)),t("button",{type:"button",onClick:C,class:"px-3 py-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},"Delete")]),e[7]||(e[7]=t("label",{class:"block mb-1"},"Label",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>l.element.label=o),onInput:e[1]||(e[1]=o=>b("label",l.element.label)),class:"w-full border p-1 mb-2"},null,544),[[r,l.element.label]]),e[8]||(e[8]=t("label",{class:"block mb-1"},"Name",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l.element.name=o),onInput:g,class:"w-full border p-1 mb-2"},null,544),[[r,l.element.name]]),e[9]||(e[9]=t("label",{class:"block mb-1"},"Classes",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>l.element.class=o),onInput:e[4]||(e[4]=o=>b("class",l.element.class)),class:"w-full border p-1 mb-4"},null,544),[[r,l.element.class]]),e[10]||(e[10]=t("label",{class:"block mb-1"},"Jumlah Kolom",-1)),d(t("input",{type:"number",class:"w-full border p-1 mb-2","onUpdate:modelValue":e[5]||(e[5]=o=>c.value=o),onInput:I,min:"1"},null,544),[[r,c.value,void 0,{number:!0}]]),e[11]||(e[11]=t("label",{class:"block mb-1"},"Nama Kolom",-1)),(p(!0),f(N,null,V(l.element.columns,(o,u)=>(p(),f("div",{key:u,class:"flex gap-2 mb-2"},[d(t("input",{"onUpdate:modelValue":a=>l.element.columns[u]=a,onInput:a=>k(u,l.element.columns[u]),class:"w-full border p-1"},null,40,U),[[r,l.element.columns[u]]])]))),128))])):y("",!0)}}};export{S as default};
